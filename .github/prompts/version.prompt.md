---
mode: agent
---
---
Инструкция за асистента (когато бъдеш помолен да "използваш" този prompt):

1) Цел
	- Когато потребителят даде кратко описание на направените промени и помоли да се "създаде версия" или "използва този prompt", ти трябва автоматично да:
	  a) Съставиш кратко, лесно за разбиране и потребителско-ориентирано описание на промените (без технически детайли). Това описание ще бъде видимо за всички потребители.
	  b) Определиш семантичното увеличаване на версията според правилата по-долу и направиш нужните промени в `config/app.php` (полето `'version'`).
	  c) Създадеш Markdown файл с описанието на релийза в `resources/releases/en/{version}.md` (с дата и потребителско описание).

2) Правила за семантично увеличаване на версията
	- Ако промените са само поправки/фиксове/малки корекции → увеличи само крайното число (patch): X.Y.Z -> X.Y.(Z+1).
	- Ако има добавена нова функционалност или значително разширение (feature) → увеличи средното число (minor): X.Y.Z -> X.(Y+1).0.
	- Major (голяма, съвместимо-несъвместима промяна) НЕ се увеличава автоматично. Прави това само ако потребителят изрично каже "bump major" или даде явно разрешение.

3) Формат и съдържание на release файла
	- Път: `resources/releases/en/{version}.md` (напр. `resources/releases/en/0.12.3.md`).
	- Съдържание: заглавие с версията, дата (YYYY-MM-DD), кратък заглавен ред и няколко преводими реда/точки, написани на прост и разбираем език (без технически жаргони). Пример:

  # Release 0.12.3

  Date: 2025-10-24

  ## What's new for you

  - Short, non-technical bullet 1
  - Short, non-technical bullet 2

4) Commit, tag и push (поведение)
	- След успешното генериране на файловете, напиши commit с послание: `chore(release): bump version to vX.Y.Z — {кратко заглавие}`.
	- Създай annotated tag `vX.Y.Z` с кратко съобщение (може да е едно изречение или самото заглавие на release-а).
	- По подразбиране попитай потребителя за потвърждение преди да изпълниш `git push origin main` и `git push origin vX.Y.Z` (освен ако потребителят е заявил предварително, че иска автоматично push).

5) Валидиране и безопасност
	- Проверявай че `config/app.php` съдържа валидна семантична версия преди и след промяната.
	- Ако има несъответствие (напр. версията е в .env или в други места), информирай потребителя и предложи как да синхронизира.

6) Уточнения и взаимодействие с потребителя
	- Ако не си сигурен дали описанието е "fix" или "feature", генерирай предложена семантична версия и попитай потребителя за потвърждение.
	- Ако потребителят поиска само генериране на release файл и да НЕ се прави commit/push, изпълни само локалните файлови промени и представи какво е направено.

7) Успех критерии
	- `config/app.php` е актуализиран с нова версия.
	- Има нов markdown файл в `resources/releases/en/{version}.md` с потребителско-ориентирано описание.
	- Комит и tag са готови локално; push е извършен само след потвърждение (или ако потребителят е дал автоматичното разрешение).

---
